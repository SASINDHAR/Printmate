<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PrintMate ‚Äî Prototype</title>

  <!-- Tailwind CDN for quick styling -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React + ReactDOM (UMD dev builds) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel for inline JSX (only for prototype/demo) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body { -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <div id="root" class="min-h-screen"></div>

  <!-- App code (Babel compiles this) -->
  <script type="text/babel">
    const { useState, useEffect } = React;

    function NavButton({ children, active, onClick }) {
      const base = "px-3 py-2 rounded-md text-sm";
      const cls = active ? "bg-indigo-50 text-indigo-600" : "text-gray-600 hover:bg-gray-100";
      return <button onClick={onClick} className={`${base} ${cls}`}>{children}</button>;
    }

    function Header({ onNavigate, route }) {
      return (
        <header className="bg-white shadow-sm">
          <div className="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold">PM</div>
              <div>
                <h1 className="text-lg font-semibold">PrintMate</h1>
                <p className="text-xs text-gray-500">Fast prints ‚Äî realtime tracking</p>
              </div>
            </div>

            <nav className="flex items-center gap-4">
              <NavButton active={route === "home"} onClick={() => onNavigate("home")}>Home</NavButton>
              <NavButton active={route === "upload"} onClick={() => onNavigate("upload")}>Order</NavButton>
              <NavButton active={route === "shop"} onClick={() => onNavigate("shop")}>Shop</NavButton>
              <NavButton active={route === "driver"} onClick={() => onNavigate("driver")}>Driver</NavButton>
              <button onClick={() => onNavigate("tracker")} className="ml-2 px-4 py-2 rounded-md border bg-white text-sm shadow-sm">Track Order</button>
            </nav>
          </div>
        </header>
      );
    }

    function Home({ onStart }) {
      return (
        <section className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <div>
            <h2 className="text-3xl font-extrabold mb-3">Print & Xerox ‚Äî delivered fast</h2>
            <p className="text-gray-600 mb-6">Upload your documents, choose options (color/BW, duplex, finishing), pay and track in real-time. Pickup or delivery ‚Äî your choice.</p>
            <div className="flex gap-3">
              <button onClick={onStart} className="px-5 py-3 rounded-lg bg-indigo-600 text-white shadow">Start an order</button>
              <button className="px-5 py-3 rounded-lg border">See pricing</button>
            </div>

            <div className="mt-8 grid grid-cols-2 gap-3">
              <div className="flex gap-3 items-start bg-gray-50 p-3 rounded">
                <div className="w-10 h-10 rounded-md bg-white shadow flex items-center justify-center">üìÑ</div>
                <div>
                  <div className="font-semibold text-sm">Fast Turnaround</div>
                  <div className="text-xs text-gray-500">Printing from 15 minutes</div>
                </div>
              </div>

              <div className="flex gap-3 items-start bg-gray-50 p-3 rounded">
                <div className="w-10 h-10 rounded-md bg-white shadow flex items-center justify-center">üöö</div>
                <div>
                  <div className="font-semibold text-sm">Real-time Tracking</div>
                  <div className="text-xs text-gray-500">Live driver and status updates</div>
                </div>
              </div>

              <div className="flex gap-3 items-start bg-gray-50 p-3 rounded">
                <div className="w-10 h-10 rounded-md bg-white shadow flex items-center justify-center">‚úÇÔ∏è</div>
                <div>
                  <div className="font-semibold text-sm">Multiple Services</div>
                  <div className="text-xs text-gray-500">Lamination, binding, passport photos</div>
                </div>
              </div>

              <div className="flex gap-3 items-start bg-gray-50 p-3 rounded">
                <div className="w-10 h-10 rounded-md bg-white shadow flex items-center justify-center">üîí</div>
                <div>
                  <div className="font-semibold text-sm">Secure Payments</div>
                  <div className="text-xs text-gray-500">Stripe & wallet ready</div>
                </div>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-xl shadow p-6">
            <h3 className="font-semibold mb-3">Quick Order Preview</h3>
            <div className="border rounded p-3">
              <div className="flex justify-between items-center mb-2">
                <div className="text-sm font-medium">A4 - Black & White</div>
                <div className="text-sm font-semibold">‚Ç¨0.05 / page</div>
              </div>
              <div className="text-xs text-gray-500 mb-3">Duplex available ‚Ä¢ 100 pages max</div>
              <div className="flex gap-2">
                <button className="px-3 py-2 rounded bg-indigo-50 text-indigo-600 text-sm">Upload</button>
                <button className="px-3 py-2 rounded border text-sm">Customize</button>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function UploadStep({ onAdd, onNext, cart, onBack }) {
      const [service, setService] = useState("bw_a4");
      const [qty, setQty] = useState(1);
      const [fileName, setFileName] = useState(null);

      function handleAdd() {
        const item = {
          id: "it_" + Date.now(),
          service,
          qty,
          file: fileName || "example.pdf",
          pricePerPage: service === "color_a4" ? 0.12 : 0.05,
          pages: 3,
        };
        onAdd(item);
      }

      return (
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div className="md:col-span-2 bg-white rounded-lg p-6 shadow">
            <h3 className="text-lg font-semibold mb-4">Upload documents</h3>
            <div className="border-dashed border-2 border-gray-200 p-6 rounded text-center">
              <input id="file" type="file" accept=".pdf,.docx,.jpg,.png"
                onChange={(e) => setFileName(e.target.files && e.target.files[0] ? e.target.files[0].name : null)}
                className="mb-3" />
              <div className="text-sm text-gray-500">Drop files here or click to browse</div>
              <div className="mt-3 text-xs text-gray-600">Selected: {fileName || "‚Äî"}</div>
            </div>

            <div className="mt-5 grid grid-cols-2 gap-3">
              <label className="block">
                <div className="text-xs text-gray-600 mb-1">Service</div>
                <select value={service} onChange={(e) => setService(e.target.value)} className="w-full border rounded p-2">
                  <option value="bw_a4">A4 ‚Ä¢ Black & White</option>
                  <option value="color_a4">A4 ‚Ä¢ Color</option>
                  <option value="bw_a3">A3 ‚Ä¢ Black & White</option>
                  <option value="lamination">Lamination</option>
                </select>
              </label>

              <label>
                <div className="text-xs text-gray-600 mb-1">Quantity</div>
                <input type="number" value={qty} min="1" onChange={(e) => setQty(parseInt(e.target.value || "1", 10))} className="w-full border rounded p-2"/>
              </label>
            </div>

            <div className="mt-4 flex gap-3">
              <button onClick={handleAdd} className="px-4 py-2 rounded bg-indigo-600 text-white">Add to cart</button>
              <button onClick={onNext} className="px-4 py-2 rounded border">Go to pricing</button>
              <button onClick={onBack} className="px-4 py-2 rounded border text-sm">Back</button>
            </div>
          </div>

          <aside className="bg-white rounded-lg p-4 shadow">
            <h4 className="font-semibold mb-3">Cart</h4>
            <div className="space-y-3">
              {cart.length === 0 && <div className="text-sm text-gray-500">No items yet</div>}
              {cart.map((c) => (
                <div key={c.id} className="flex justify-between items-center">
                  <div>
                    <div className="text-sm font-medium">{c.service}</div>
                    <div className="text-xs text-gray-500">{c.pages} pages ‚Ä¢ {c.file}</div>
                  </div>
                  <div className="text-sm">‚Ç¨{(c.pages * c.qty * c.pricePerPage).toFixed(2)}</div>
                </div>
              ))}
            </div>
          </aside>
        </div>
      );
    }

    function Pricing({ cart, onCheckout, onBack }) {
      const subtotal = cart.reduce((s, it) => s + it.pages * it.qty * it.pricePerPage, 0);
      const delivery = subtotal > 20 ? 0 : 3.5;
      const tax = subtotal * 0.07;
      const total = subtotal + delivery + tax;

      return (
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div className="md:col-span-2 bg-white rounded-lg p-6 shadow">
            <h3 className="text-lg font-semibold mb-4">Pricing & options</h3>
            <div className="space-y-4">
              {cart.map((it) => (
                <div key={it.id} className="flex justify-between items-center border p-3 rounded">
                  <div>
                    <div className="font-medium">{it.service}</div>
                    <div className="text-xs text-gray-500">{it.pages} pages ‚Ä¢ {it.qty} copies</div>
                  </div>
                  <div className="text-right">
                    <div>‚Ç¨{(it.pages * it.qty * it.pricePerPage).toFixed(2)}</div>
                    <div className="text-xs text-gray-400">per item</div>
                  </div>
                </div>
              ))}
              <div className="mt-4">
                <label className="flex items-center gap-3">
                  <input type="checkbox" /> Use express printing (additional fee)
                </label>
              </div>
            </div>

            <div className="mt-6 flex gap-3">
              <button onClick={onBack} className="px-4 py-2 rounded border">Back</button>
              <button onClick={onCheckout} className="px-4 py-2 rounded bg-indigo-600 text-white">Proceed to Checkout</button>
            </div>
          </div>

          <aside className="bg-white rounded-lg p-4 shadow">
            <h4 className="font-semibold mb-3">Summary</h4>
            <div className="text-sm mb-2">Subtotal: ‚Ç¨{subtotal.toFixed(2)}</div>
            <div className="text-sm mb-2">Delivery: ‚Ç¨{delivery.toFixed(2)}</div>
            <div className="text-sm mb-2">Tax: ‚Ç¨{tax.toFixed(2)}</div>
            <div className="font-semibold text-lg mt-4">Total: ‚Ç¨{total.toFixed(2)}</div>
          </aside>
        </div>
      );
    }

    function Checkout({ cart, onPlaceOrder, onBack }) {
      const [name, setName] = useState("");
      const [address, setAddress] = useState("");

      function place() {
        const order = {
          id: "ord_" + Date.now(),
          items: cart,
          status: "created",
          customer: { name, address },
          createdAt: Date.now(),
        };
        onPlaceOrder(order);
      }

      return (
        <div className="max-w-3xl mx-auto bg-white rounded-lg p-6 shadow">
          <h3 className="text-lg font-semibold mb-4">Checkout</h3>
          <div className="space-y-3">
            <label className="block">
              <div className="text-xs text-gray-600 mb-1">Full name</div>
              <input value={name} onChange={(e) => setName(e.target.value)} className="w-full border rounded p-2" />
            </label>
            <label>
              <div className="text-xs text-gray-600 mb-1">Delivery address (or pickup)</div>
              <input value={address} onChange={(e) => setAddress(e.target.value)} className="w-full border rounded p-2" />
            </label>

            <div className="mt-4">
              <div className="text-sm text-gray-600 mb-2">Payment (mock)</div>
              <div className="border rounded p-3">
                <input placeholder="Card number" className="w-full border rounded p-2 mb-2" />
                <div className="flex gap-2">
                  <input placeholder="MM/YY" className="w-1/2 border rounded p-2" />
                  <input placeholder="CVC" className="w-1/2 border rounded p-2" />
                </div>
              </div>
            </div>

            <div className="flex gap-3 mt-4">
              <button onClick={onBack} className="px-4 py-2 rounded border">Back</button>
              <button onClick={place} className="px-4 py-2 rounded bg-indigo-600 text-white">Place Order</button>
            </div>
          </div>
        </div>
      );
    }

    function OrderTracker({ order, onBack }) {
      const [status, setStatus] = useState(order ? order.status : "created");

      return (
        <div className="max-w-4xl mx-auto bg-white rounded-lg p-6 shadow">
          <div className="flex justify-between items-start">
            <div>
              <h3 className="text-lg font-semibold">Order Tracker</h3>
              <div className="text-sm text-gray-500">Order: {order?.id || "‚Äî"}</div>
            </div>
            <div className="text-right">
              <div className="text-sm">Status</div>
              <div className="font-medium">{status}</div>
            </div>
          </div>

          <div className="mt-6">
            <ol className="space-y-4">
              {[
                ["created", "Order placed"],
                ["accepted", "Shop accepted"],
                ["printing", "Printing"],
                ["qc", "Quality check"],
                ["out_for_delivery", "Out for delivery"],
                ["delivered", "Delivered"],
              ].map(([key, label]) => (
                <li key={key} className={"p-3 rounded border " + (status === key ? "bg-indigo-50 border-indigo-200" : "bg-white")}>
                  <div className="flex justify-between">
                    <div>
                      <div className="font-medium">{label}</div>
                      <div className="text-xs text-gray-500">{key === status ? "Current" : ""}</div>
                    </div>
                    <div className="text-xs text-gray-400">{key}</div>
                  </div>
                </li>
              ))}
            </ol>
          </div>

          <div className="mt-6 flex gap-3">
            <button onClick={onBack} className="px-4 py-2 rounded border">Back</button>
            <button onClick={() => setStatus("out_for_delivery")} className="px-4 py-2 rounded bg-indigo-600 text-white">Simulate Out for Delivery</button>
          </div>
        </div>
      );
    }

    function ShopDashboard() {
      return (
        <div className="max-w-6xl mx-auto bg-white rounded-lg p-6 shadow">
          <h3 className="text-lg font-semibold mb-4">Shop Dashboard (demo)</h3>
          <div className="text-sm text-gray-500">Queue: 3 new orders ‚Ä¢ Active printers: 2</div>
          <div className="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">
            <div className="p-4 border rounded">Order #001 ‚Äî A4 BW</div>
            <div className="p-4 border rounded">Order #002 ‚Äî A4 Color</div>
            <div className="p-4 border rounded">Order #003 ‚Äî Lamination</div>
          </div>
        </div>
      );
    }

    function DriverPanel() {
      return (
        <div className="max-w-4xl mx-auto bg-white rounded-lg p-6 shadow">
          <h3 className="text-lg font-semibold mb-4">Driver Panel (demo)</h3>
          <div className="text-sm text-gray-500">Assigned: 1 pickup, 2 deliveries</div>
          <div className="mt-4 space-y-3">
            <div className="p-3 border rounded">Pickup ‚Äî Shop A ‚Äî Accept</div>
            <div className="p-3 border rounded">Delivery ‚Äî Order #002 ‚Äî Navigate</div>
          </div>
        </div>
      );
    }

    function Footer() {
      return (
        <footer className="border-t mt-10">
          <div className="max-w-6xl mx-auto px-6 py-6 text-sm text-gray-500">¬© PrintMate prototype</div>
        </footer>
      );
    }

    function App() {
      const [route, setRoute] = useState("home");
      const [cart, setCart] = useState([]);
      const [currentOrder, setCurrentOrder] = useState(null);

      return (
        <div className="min-h-screen bg-gray-50 text-gray-900 font-sans">
          <Header onNavigate={setRoute} route={route} />
          <main className="max-w-6xl mx-auto p-6">
            {route === "home" && <Home onStart={() => setRoute("upload")} />}
            {route === "upload" && <UploadStep onAdd={(item) => setCart((c) => [...c, item])} onNext={() => setRoute("pricing")} cart={cart} onBack={() => setRoute("home")} />}
            {route === "pricing" && <Pricing cart={cart} onCheckout={() => setRoute("checkout")} onBack={() => setRoute("upload")} />}
            {route === "checkout" && <Checkout cart={cart} onPlaceOrder={(order) => { setCurrentOrder(order); setCart([]); setRoute("tracker"); }} onBack={() => setRoute("pricing")} />}
            {route === "tracker" && <OrderTracker order={currentOrder} onBack={() => setRoute("home")} />}
            {route === "shop" && <ShopDashboard />}
            {route === "driver" && <DriverPanel />}
          </main>
          <Footer />
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
